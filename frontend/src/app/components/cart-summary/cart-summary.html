<div class="cart-summary" [class.compact]="mode === 'compact'">
  <!-- Summary Details -->
  <div class="summary-details">
    <div class="summary-row">
      <span class="summary-label">Subtotal:</span>
      <span class="summary-value">${{ cartTotals.subtotal.toFixed(2) }}</span>
    </div>

    <div class="summary-row">
      <span class="summary-label">Shipping:</span>
      <span class="summary-value">
        <span *ngIf="cartTotals.shipping === 0" class="free-shipping">FREE</span>
        <span *ngIf="cartTotals.shipping > 0">${{ cartTotals.shipping.toFixed(2) }}</span>
      </span>
    </div>

    <!-- Free Shipping Progress -->
    <div *ngIf="freeShippingRemaining" class="free-shipping-notice">
      Add ${{ freeShippingRemaining.toFixed(2) }} more for free shipping!
    </div>

    <div class="summary-row" *ngIf="mode === 'detailed'">
      <span class="summary-label">Tax (est.):</span>
      <span class="summary-value">${{ cartTotals.tax.toFixed(2) }}</span>
    </div>

    <div class="summary-row total">
      <span class="summary-label">Total:</span>
      <span class="summary-value">${{ cartTotals.total.toFixed(2) }}</span>
    </div>
  </div>

  <!-- Actions -->
  <div class="summary-actions" *ngIf="showCheckoutButton || showContinueButton">
    <button
      *ngIf="showCheckoutButton"
      class="btn-checkout"
      (click)="onCheckout()"
      [disabled]="cartTotals.itemCount === 0">
      Proceed to Checkout
    </button>

    <button
      *ngIf="showContinueButton"
      class="btn-continue"
      (click)="onContinueShopping()">
      Continue Shopping
    </button>
  </div>

  <!-- Security Notice -->
  <div class="secure-checkout-note" *ngIf="mode === 'detailed'">
    <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
      <path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11v8.8z"/>
    </svg>
    <span>Secure Checkout</span>
  </div>
</div>
